{"componentChunkName":"component---src-components-post-tsx","path":"/creating-a-bot-to-refill-parking-meters-using-aws-lambda","result":{"pageContext":{"post":{"id":"cjmym86fh0jy1013398nfzuqu","title":"Creating a Bot to Refill Parking Meters Using AWS Lambda","slug":"creating-a-bot-to-refill-parking-meters-using-aws-lambda","published_at":"2019-10-07T04:00:00","created_at":"2018-10-07T08:38:32","encoded_html":"PHA+SSBnZXQgYSBzaGFtZWZ1bCBudW1iZXIgb2YgcGFya2luZyB0aWNrZXRzIGZyb20gZmFpbGluZyB0byByZWZpbGwgcGFya2luZyBtZXRlcnMgb24gdGltZS4gU28gb25lIGRheSBJIGRlY2lkZWQgdG8gbWFrZSBhIGJvdCB0aGF0IHRvcHMgb2ZmIHRoZSBwYXJraW5nIG1ldGVyIGZvciBtZS4gWWVzLCBJJ20gcHJvYmFibHkgYnJlYWtpbmcgc29tZSB0ZXJtcyBhbmQgY29uZGl0aW9ucy4gQnV0IGZvciBub3cgdGhhdCdzIGEgcmlzayBJJ20gd2lsbGluZyB0byBhY2NlcHQuPC9wPgo8cD5TbyBoZXJlJ3MgdGhlIHNpdHVhdGlvbi4gTXkgY2FyIGlzIHBhcmtlZCBvbiB0aGUgc3RyZWV0IGluIGEgc3VidXJiIG9mIFdhc2hpbmd0b24gREMuIEkgbmVlZCB0byByZWZpbGwgdGhlIHBhcmtpbmcgbWV0ZXIgZXZlcnkgdHdvIGhvdXJzLiBUaGVzZSBtZXRlcnMgbGltaXQgdGhlIHBhcmtpbmcgcmVzZXJ2YXRpb24gbGltaXQgdG8gdHdvIGhvdXJzLiBTbyBldmVyeSB0d28gaG91cnMgZHVyaW5nIGJ1c2luZXNzIGhvdXJzICg5IEFNIHRvIDYgUE0sIE1vbmRheSB0byBGcmlkYXkpIEkgbmVlZCB0byByZWZpbGwgdGhlIG1ldGVyLjwvcD4KPHA+UGFya01vYmlsZSBpcyBvbmUgb2YgYSBmZXcgYXBwcyB0aGF0IGFsbG93IHlvdSB0byBwYXkgZm9yIHBhcmtpbmcgb24gYSBkZXZpY2UuIEJ1dCBldmVuIHdpdGggYSBjb252ZW5pZW5jZSBvZiByZS1yZXNlcnZpbmcgeW91ciBwYXJraW5nIHNwYWNlIHJlbW90ZWx5IGZyb20geW91ciBjb21wdXRlciBvZiBwaG9uZSwgaXQncyBzdGlsbCBhIHBhaW4gdG8gZG8gZXZlcnkgdHdvIGhvdXJzIG9uIHdlZWtkYXlzLjwvcD4KPHA+SGVyZSdzIHdoYXQgdGhlIFBhcmtNb2JpbGUgVUkgbG9va3MgbGlrZSBmb3IgcmVzZXJ2aW5nIGEgcGFya2luZyBzcGFjZTo8L3A+CjxpbWcgc3JjPSJodHRwczovL3MzLmFtYXpvbmF3cy5jb20vY29udGVudGtpdC9zdGF0aWMvY2pteW04NmZoMGp5MTAxMzM5OG5menVxdS9wYXJrbW9iaWxlLXNjcmVlbnNob3QtMS5wbmciIC8+CjxwPkl0J3Mgbm90IHRvbyBjb21wbGljYXRlZCBhdCBmaXJzdCBnbGFuY2UuPC9wPgo8cD5Zb3UganVzdCBuZWVkIHRvIHNldCB0aGUgem9uZSBpZCwgc2VsZWN0IGEgbG9jYXRpb24sIHNlbGVjdGlvbiBhIHBhcmtpbmcgZHVyYXRpb24sIHNlbGVjdCBhIHRpbWUgYmxvY2sgYW5kIHRoZW4gY2xpY2sgc3RhcnQgcGFya2luZy48L3A+CjxoMj5Ccm93c2VyIEF1dG9tYXRpb248L2gyPgo8cD5JIG9wdGVkIHRvIHVzZSBjaHJvbWVsZXNzIHRvIGF1dG9tYXRlIHJlc2VydmluZyBhIHBhcmtpbmcgc3BhY2UuIENocm9tZWxlc3MgaXMgYSBicm93c2VyIGF1dG9tYXRpb24gbGlicmFyeSB3aXRoIGFuIEFQSSBha2luIHRvIG5pZ2h0bWFyZS5qcyB0aGF0IHVzZXMgQ2hyb21lIENhbmFyeSBpbnN0ZWFkIG9mIEVsZWN0cm9uLjwvcD4KPHA+TXkgcmF0aW9uYWxlIGZvciB1c2luZyBDaHJvbWVsZXNzIGlzIHRoYXQgSSB3YW50ZWQgdG8gcnVuIHRoZSBsb3QgaW4gQVdTIExhbWJkYSBhbmQgbm90IGxvY2FsbHkgb24gbXkgbWFjaGluZSBmb3Igb2J2aW91cyByZWFzb25zLjwvcD4KPHA+VGhlIGhhcmRlc3QgcGFydCB0dXJuZWQgb3V0IHRvIGJlIGxvZ2dpbmcgaW4gdG8gUGFya01vYmlsZS4gSSBlbmNvdW50ZXJlZCB0aGUgZm9sbG93aW5nIG9ic3RhY2xlcyBhdXRvbWF0aW5nIHRoZSBsb2dpbiBmbG93OjwvcD4KPHVsPgogIDxsaT5UaGUgYWN0dWFsIFBhcmtNb2JpbGUgbG9naW4gcGFnZSAodGhlIHBhZ2Ugd2hlcmUgeW91IGFyZSBwcm9tcHRlZCB0byBlbnRlciB5b3VyIHVzZXJuYW1lIGFuZCBwYXNzd29yZCkgaXMgPGEgaHJlZj0iaHR0cHM6Ly9kbHdlYi5wYXJrbW9iaWxlLnVzL1Bob25peHgvIj5odHRwczovL2Rsd2ViLnBhcmttb2JpbGUudXMvUGhvbml4eC88L2E+LiBIb3dldmVyLCBuYXZpZ2F0aW5nIHRvIHRoaXMgcGFnZSBkaXJlY3RseSBkb2VzIG5vdCB3b3JrLiBJbnN0ZWFkLCB5b3UgbmVlZCB0byBuYXZpZ2F0ZSB0byA8YSBocmVmPSJodHRwczovL3Bhcmttb2JpbGUuaW8vbG9naW4iPmh0dHBzOi8vcGFya21vYmlsZS5pby9sb2dpbjwvYT4gYW5kIGNsaWNrICJab25lIFBhcmtpbmciLiBUaGF0J3MgYmVjYXVzZSB0aGUgcGFya21vYmlsZS5pby9sb2dpbiBsaW5rIHNldHMgYSBteXJpYWQgb2YgY29va2llcyAoZS5nLiwgYW50aS1jc3JmKSB0aGF0IGFyZSBuZWVkZWQuPC9saT4KICA8bGk+UGFya01vYmlsZSBkaWQgbm90IGxpa2UgdGhlIGRlZmF1bHQgdXNlci1hZ2VudCAiQ2hyb21lbGVzcyIgKGZvciBvYnZpb3VzIHJlYXNvbnMpLiBTbyBJIG1hbnVhbGx5IHNldCB0aGUgdXNlci1hZ2VudCB0byBzb21ldGhpbmcgcGxhdXNpYmxlLjwvbGk+CjwvdWw+CjxwPkhlcmUncyB3aGF0IHRoZSBjb2RlIGxvb2tzIGxpa2UgZm9yIGxvZ2dpbmcgaW46PC9wPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1qcyI+PHNwYW4gY2xhc3M9InRva2VuIGtleXdvcmQiPmNvbnN0PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gY29uc3RhbnQiPklOUFVUPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+ezwvc3Bhbj4KICA8c3BhbiBjbGFzcz0idG9rZW4gY29uc3RhbnQiPkxPR0lOPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Ojwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHN0cmluZyI+J2lucHV0I2N0bDAwX0NvbnRlbnRQbGFjZUhvbGRlcjFfVWNVc2VyTG9naW5Db250cm9sMV91c2VyTmFtZSc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4sPC9zcGFuPgogIDxzcGFuIGNsYXNzPSJ0b2tlbiBjb25zdGFudCI+UEFTU1dPUkQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj46PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4naW5wdXQjY3RsMDBfQ29udGVudFBsYWNlSG9sZGVyMV9VY1VzZXJMb2dpbkNvbnRyb2wxX3Bhc3N3b3JkJzwvc3Bhbj4KPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj59PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+Y29uc3Q8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbi12YXJpYWJsZSBmdW5jdGlvbiI+bG9naW48L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGtleXdvcmQiPmFzeW5jPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHBhcmFtZXRlciI+Y2hyb21lbGVzczwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PT48L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+ezwvc3Bhbj4KICA8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+bGV0PC9zcGFuPiBjb29raWVzIDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGtleXdvcmQiPmF3YWl0PC9zcGFuPiBjaHJvbWVsZXNzCiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPi48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5zZXRVc2VyQWdlbnQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBzdHJpbmciPidNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xM182KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNjkuMC4zNDk3LjEwMCBTYWZhcmkvNTM3LjM2Jzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPi48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5nb3RvPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4naHR0cHM6Ly9wYXJrbW9iaWxlLmlvL2xvZ2luJzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPi48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5jb29raWVzPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+CiAgPHNwYW4gY2xhc3M9InRva2VuIGtleXdvcmQiPmF3YWl0PC9zcGFuPiBjaHJvbWVsZXNzCiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPi48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5nb3RvPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4naHR0cHM6Ly9kbHdlYi5wYXJrbW9iaWxlLnVzL1Bob25peHgvJzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPi48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5zZXRDb29raWVzPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj5jb29raWVzPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4uPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+dHlwZTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+cHJvY2VzczxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ljwvc3Bhbj5lbnY8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPi48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGNvbnN0YW50Ij5MT0dJTjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPiw8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBjb25zdGFudCI+SU5QVVQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4uPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBjb25zdGFudCI+TE9HSU48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4uPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+dHlwZTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+cHJvY2VzczxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ljwvc3Bhbj5lbnY8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPi48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGNvbnN0YW50Ij5QQVNTV09SRDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPiw8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBjb25zdGFudCI+SU5QVVQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4uPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBjb25zdGFudCI+UEFTU1dPUkQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4uPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+d2FpdDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG51bWJlciI+NTAwPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KTwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ljwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPmV2YWx1YXRlPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj0+PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPns8L3NwYW4+CiAgICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+V2ViRm9ybV9Eb1Bvc3RCYWNrV2l0aE9wdGlvbnM8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBrZXl3b3JkIj5uZXc8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBjbGFzcy1uYW1lIj5XZWJGb3JtX1Bvc3RCYWNrT3B0aW9uczwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHN0cmluZyI+ImN0bDAwJENvbnRlbnRQbGFjZUhvbGRlcjEkVWNVc2VyTG9naW5Db250cm9sMSRsYkxvZ29uIjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPiw8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBzdHJpbmciPiIiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGJvb2xlYW4iPnRydWU8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4sPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4iIjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPiw8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBzdHJpbmciPiIiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGJvb2xlYW4iPmZhbHNlPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGJvb2xlYW4iPnRydWU8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KTwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+fTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+CjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+fTwvc3Bhbj48L2NvZGU+PC9wcmU+CjxwPlRoZSBjb2RlIGFib3ZlIGxvZ2lucyBpbnRvIFBhcmtNb2JpbGUuIEhlcmUncyB3aGF0IGl0IGxvb2tzIGxpa2Ugd2hlbiBydW46CjwvcD4KPHZpZGVvIGNvbnRyb2xzPSJ0cnVlIiBwcmVsb2FkPSJhdXRvIiB3aWR0aD0iNjQwIiBoZWlnaHQ9IjM2MCIgbG9vcD0iZmFsc2UiIHNyYz0iaHR0cHM6Ly9zMy5hbWF6b25hd3MuY29tL2NvbnRlbnRraXQtZGV2LWRlcGxveW1lbnRidWNrZXQtM2hsY2JxeDlmOW5sL3N0YXRpYy9jam15bTg2ZmgwankxMDEzMzk4bmZ6dXF1L3Bhcmttb2JpbGUtZmluYWwubXA0Ij48L3ZpZGVvPgo8cD5JIHdvbid0IGJvcmUgeW91IHdpdGggdGhlIHJlbWFpbmluZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLiBJbiBicmllZiBJIGRlcGxveWVkIHRoZSBwcm9qZWN0IHRvIEFXUyBsYW1iZGEgdXNpbmcgc2VydmVybGVzcy4gSSBzY2hlZHVsZWQgaXQgdG8gcnVuIGV2ZXJ5IDUgbWludXRlcyBhbmQgdXNlZCByZWRpcyB0byBrZWVwIHRyYWNrIG9mIHN0YXRlLiAgSSBhbHNvIHVzZWQgVHdpbGlvIHRvIHNlbmQgbXlzZWxmIGNvbmZpcm1hdGlvbiB0ZXh0IG1lc3NhZ2VzIGV2ZXJ5IHRpbWUgdGhlIHNwYWNlIHdhcyByZXNlcnZlZC48L3A+CjxwPkFXUyBsYW1iZGEgbWFrZXMgY3JvbiBqb2JzIHRyaXZpYWxseSBlYXN5OjwvcD4KPHByZT48Y29kZSBjbGFzcz0ibGFuZ3VhZ2UtanMiPmZ1bmN0aW9uczxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Ojwvc3Bhbj4KICBoYW5kbGVyPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj46PC9zcGFuPgogICAgZXZlbnRzPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj46PC9zcGFuPgogICAgICA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPi08L3NwYW4+IHNjaGVkdWxlPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj46PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPnJhdGU8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBudW1iZXIiPjU8L3NwYW4+IG1pbnV0ZXM8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PC9jb2RlPjwvcHJlPgo8cD5Gb3IgdGhlIGN1cmlvdXMsIGhlcmUgaXMgdGhlIGdpdGh1YiByZXBvc2l0b3J5IGZvciB0aGUgcHJvamVjdC48L3A+","excerpt":"I decided to make a bot that tops off the parking meter for me - here's how.","image":{"id":"a3unw65b88o5hj757k1va1afn","url":"static/cjmym86fh0jy1013398nfzuqu/prwHMlRn_400x400.jpg"},"posts_tags":[{"tag":{"id":"3pl7ejawubufz70vjnad","name":"AWS"}}],"date":"10/07/2019","html":"<p>I get a shameful number of parking tickets from failing to refill parking meters on time. So one day I decided to make a bot that tops off the parking meter for me. Yes, I'm probably breaking some terms and conditions. But for now that's a risk I'm willing to accept.</p>\n<p>So here's the situation. My car is parked on the street in a suburb of Washington DC. I need to refill the parking meter every two hours. These meters limit the parking reservation limit to two hours. So every two hours during business hours (9 AM to 6 PM, Monday to Friday) I need to refill the meter.</p>\n<p>ParkMobile is one of a few apps that allow you to pay for parking on a device. But even with a convenience of re-reserving your parking space remotely from your computer of phone, it's still a pain to do every two hours on weekdays.</p>\n<p>Here's what the ParkMobile UI looks like for reserving a parking space:</p>\n<img src=\"https://s3.amazonaws.com/contentkit/static/cjmym86fh0jy1013398nfzuqu/parkmobile-screenshot-1.png\" />\n<p>It's not too complicated at first glance.</p>\n<p>You just need to set the zone id, select a location, selection a parking duration, select a time block and then click start parking.</p>\n<h2>Browser Automation</h2>\n<p>I opted to use chromeless to automate reserving a parking space. Chromeless is a browser automation library with an API akin to nightmare.js that uses Chrome Canary instead of Electron.</p>\n<p>My rationale for using Chromeless is that I wanted to run the lot in AWS Lambda and not locally on my machine for obvious reasons.</p>\n<p>The hardest part turned out to be logging in to ParkMobile. I encountered the following obstacles automating the login flow:</p>\n<ul>\n  <li>The actual ParkMobile login page (the page where you are prompted to enter your username and password) is <a href=\"https://dlweb.parkmobile.us/Phonixx/\">https://dlweb.parkmobile.us/Phonixx/</a>. However, navigating to this page directly does not work. Instead, you need to navigate to <a href=\"https://parkmobile.io/login\">https://parkmobile.io/login</a> and click \"Zone Parking\". That's because the parkmobile.io/login link sets a myriad of cookies (e.g., anti-csrf) that are needed.</li>\n  <li>ParkMobile did not like the default user-agent \"Chromeless\" (for obvious reasons). So I manually set the user-agent to something plausible.</li>\n</ul>\n<p>Here's what the code looks like for logging in:</p>\n<pre><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">INPUT</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token constant\">LOGIN</span><span class=\"token operator\">:</span> <span class=\"token string\">'input#ctl00_ContentPlaceHolder1_UcUserLoginControl1_userName'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token constant\">PASSWORD</span><span class=\"token operator\">:</span> <span class=\"token string\">'input#ctl00_ContentPlaceHolder1_UcUserLoginControl1_password'</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">login</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">chromeless</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> cookies <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> chromeless\n    <span class=\"token punctuation\">.</span><span class=\"token function\">setUserAgent</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://parkmobile.io/login'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">cookies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">await</span> chromeless\n    <span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://dlweb.parkmobile.us/Phonixx/'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">setCookies</span><span class=\"token punctuation\">(</span>cookies<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">LOGIN</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">INPUT</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LOGIN</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">PASSWORD</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">INPUT</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PASSWORD</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">WebForm_DoPostBackWithOptions</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">WebForm_PostBackOptions</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ctl00$ContentPlaceHolder1$UcUserLoginControl1$lbLogon\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>The code above logins into ParkMobile. Here's what it looks like when run:\n</p>\n<video controls=\"true\" preload=\"auto\" width=\"640\" height=\"360\" loop=\"false\" src=\"https://s3.amazonaws.com/contentkit-dev-deploymentbucket-3hlcbqx9f9nl/static/cjmym86fh0jy1013398nfzuqu/parkmobile-final.mp4\"></video>\n<p>I won't bore you with the remaining implementation details. In brief I deployed the project to AWS lambda using serverless. I scheduled it to run every 5 minutes and used redis to keep track of state.  I also used Twilio to send myself confirmation text messages every time the space was reserved.</p>\n<p>AWS lambda makes cron jobs trivially easy:</p>\n<pre><code class=\"language-js\">functions<span class=\"token operator\">:</span>\n  handler<span class=\"token operator\">:</span>\n    events<span class=\"token operator\">:</span>\n      <span class=\"token operator\">-</span> schedule<span class=\"token operator\">:</span> <span class=\"token function\">rate</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span> minutes<span class=\"token punctuation\">)</span></code></pre>\n<p>For the curious, here is the github repository for the project.</p>"}}}}