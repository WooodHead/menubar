{"componentChunkName":"component---src-components-post-tsx","path":"/php-scraping-tutorial-scrape-reddit-with-goutte","result":{"pageContext":{"post":{"id":"cjeqgfmvxnnp90199bdti4r8n","title":"PHP Scraping Tutorial - Scrape Reddit With Goutte","slug":"php-scraping-tutorial-scrape-reddit-with-goutte","published_at":"2017-10-07T05:56:59.576","created_at":"2018-03-14T02:16:34","encoded_html":"PHA+SSBuZWVkZWQgdG8gc2NyYXBlIFJlZGRpdCBwb3N0cyBmb3IgYSBwcm9qZWN0LiBBZnRlciBoYXZpbmcgZnVuIHdpdGggc29tZSB0b29scyBJIGRlY2lkZWQgdG8gZG9jdW1lbnQgdGhlIHByb2Nlc3MuIEhvd2V2ZXIgSSBteSBwcm9jZXNzIGlzIGdlbmVyYWxpemFibGUgdG8gc2NyYXBpbmcgYW55dGhpbmcuPC9wPgo8cD5GaXJzdCwgd2hhdCBpcyBhIHdlYiBzY3JhcGVyPyBZb3UgY291bGQgbWFudWFsbHkgY29weSBhbmQgcGFzdGUgZGF0YSBmcm9tIHdlYnNpdGVzIGludG8gYSBzcHJlYWRzaGVldCwgYnV0IHRoYXQgd291bGQgdGFrZSBmYXIgdG9vIGxvbmcgaWYgeW91IGFyZSB3b3JraW5nIG9uIGEgYmlnIHByb2plY3QuPC9wPgo8cD5TY3JhcGluZyBsZXRzIHlvdSBwcm9ncmFtbWF0aWNhbGx5IGNvcHkgZGF0YSBhdCBhIGhpZ2ggdGhyb3VnaHB1dC48L3A+CjxoMj5TY3JhcGluZyBMaWJyYXJpZXM8L2gyPgo8cD5Gb3IgdGhpcyBwcm9qZWN0LCBJIGNob3NlIFBIUCBiZWNhdXNlIGl0IGhhcyBzb21lIGV4dHJhIHN5bnRhY3RpYyBzdWdhci48L3A+CjxwPlRoZSBiZXN0IChwaHApIHNjcmFwaW5nIGxpYnJhcnkgaXMgR291dHRlLjwvcD4KPGgyPkluc3RhbGxpbmcgR291dHRlPC9oMj4KPHA+Rmlyc3QsIHlvdSdsbCBuZWVkIHRvIGluc3RhbGwgQ29tcG9zZSwgd2hpY2ggaXMgYSBwYWNrYWdlIG1hbmFnZW1lbnQgdG9vbCBmb3IgUEhQLiBJbiB0ZXJtaW5hbCB0eXBlOjwvcD4KPHByZT48Y29kZSBjbGFzcz0ibGFuZ3VhZ2UtcGhwIj48c3BhbiBjbGFzcz0idG9rZW4gc2hlbGwtY29tbWVudCBjb21tZW50Ij4jIEluc3RhbGwgQ29tcG9zZXI8L3NwYW4+CmN1cmwgPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4tPC9zcGFuPnNTIGh0dHBzPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj46PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBjb21tZW50Ij4vL2dldGNvbXBvc2VyLm9yZy9pbnN0YWxsZXIgfCBwaHA8L3NwYW4+PC9jb2RlPjwvcHJlPgo8cD5Ob3cgYWRkIEdvdXR0ZSBhcyBhIGRlcGVuZGVuY3kgdG8geW91ciBwcm9qZWN0LjwvcD4KPHByZT48Y29kZSBjbGFzcz0ibGFuZ3VhZ2UtcGhwIj5jb21wb3NlciA8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+cmVxdWlyZTwvc3Bhbj4gZmFicG90PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4vPC9zcGFuPmdvdXR0ZTwvY29kZT48L3ByZT4KPHA+QnV0IEdvdXR0ZSByZXF1aXJlcyBHdXp6bGUsIHNvIHlvdSdsbCBuZWVkIHRvIGluc3RhbGwgdGhhdCB0b28uPC9wPgo8aDI+SW5zdGFsbGluZyBHdXp6bGU8L2gyPgo8cD5HdXp6bGUgaXMgYSBQSFAgSFRUUCBjbGllbnQgdGhhdCBtYWtlcyBpdCBlYXN5IHRvIHNlbmQgSFRUUCByZXF1ZXN0cyBhbmQgdHJpdmlhbCB0byBpbnRlZ3JhdGUgd2l0aCB3ZWIgc2VydmljZXMuPC9wPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1iYXNoIj5waHAgY29tcG9zZXIucGhhciByZXF1aXJlIGd1enpsZWh0dHAvZ3V6emxlPC9jb2RlPjwvcHJlPgo8cD5Ob3cgaWYgeW91IG9wZW4gY29tcG9zZXIuanNvbiBpdCBzaG91bGQgbG9vayBzb21ldGhpbmcgbGlrZTo8L3A+CjxwcmU+PGNvZGUgY2xhc3M9Imxhbmd1YWdlLWpzb24iPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+ezwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBwcm9wZXJ0eSI+Im5hbWUiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Ojwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHN0cmluZyI+Im15X3Byb2plY3QiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBwcm9wZXJ0eSI+InJlcXVpcmUiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Ojwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj57PC9zcGFuPgogICAgICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBwcm9wZXJ0eSI+ImZhYnBvdC9nb3V0dGUiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Ojwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHN0cmluZyI+Il4zLjIiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4KICAgICAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHJvcGVydHkiPiJndXp6bGVodHRwL2d1enpsZSI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj46PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4iXjYuMiI8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPn08L3NwYW4+CjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+fTwvc3Bhbj48L2NvZGU+PC9wcmU+CjxwPkFmdGVyIGluc3RhbGxpbmcgR291dHRlIGFuZCBHdXp6bGUsIHlvdSBuZWVkIHRvIGluY2x1ZGUgY29tcG9zZXIncyBhdXRvbG9hZGVyLjwvcD4KPHA+U28gY3JlYXRlIGEgZmlsZSBpbmRleC5waHAgYW5kIGF0IHRoZSB0b3AgaW5jbHVkZTo8L3A+CjxwcmU+PGNvZGUgY2xhc3M9Imxhbmd1YWdlLXBocCI+PHNwYW4gY2xhc3M9InRva2VuIGtleXdvcmQiPnJlcXVpcmU8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPid2ZW5kb3IvYXV0b2xvYWQucGhwJzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPjs8L3NwYW4+PC9jb2RlPjwvcHJlPgo8aDI+U2NyYXBpbmcgWW91ciBGaXJzdCBQYWdlPC9oMj4KPGgzPkV4YW1wbGU6IFNjcmFwaW5nIFJlZGRpdCdzIEZyb250IFBhZ2U8L2gzPgo8cD5UbyBzY3JhcGUgc3R1ZmYgd2l0aCBHdXp6bGUsIHlvdSBvbmx5IG5lZWQgdG8gd3JpdGUgYSBmZXcgbGluZXMgb2YgY29kZS4gRm9yIGV4YW1wbGU6PC9wPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1waHAiPjxzcGFuIGNsYXNzPSJ0b2tlbiBrZXl3b3JkIj5yZXF1aXJlPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc2luZ2xlLXF1b3RlZC1zdHJpbmcgc3RyaW5nIj4ndmVuZG9yL2F1dG9sb2FkLnBocCc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+dXNlPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gcGFja2FnZSI+R291dHRlPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj5cPC9zcGFuPkNsaWVudDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPjs8L3NwYW4+CjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JHVybDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gZG91YmxlLXF1b3RlZC1zdHJpbmcgc3RyaW5nIj4iaHR0cDovL3d3dy5yZWRkaXQuY29tIjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPjs8L3NwYW4+CjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JGNzc19zZWxlY3Rvcjwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gZG91YmxlLXF1b3RlZC1zdHJpbmcgc3RyaW5nIj4iYS50aXRsZS5tYXktYmxhbmsiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj4KPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kdGhpbmdfdG9fc2NyYXBlPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBkb3VibGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPiJfdGV4dCI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjbGllbnQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGtleXdvcmQiPm5ldzwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGNsYXNzLW5hbWUiPkNsaWVudDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj4KPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kY3Jhd2xlcjwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjbGllbnQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4tPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPnJlcXVlc3Q8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPidHRVQnPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kdXJsPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPjs8L3NwYW4+CjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JG91dHB1dDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjcmF3bGVyPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+LTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5maWx0ZXI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JGNzc19zZWxlY3Rvcjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4tPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPmV4dHJhY3Q8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JHRoaW5nX3RvX3NjcmFwZTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPnZhcl9kdW1wPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRvdXRwdXQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj48L2NvZGU+PC9wcmU+CjxwPldpdGggdGhpcyBQSFAgc25pcHBlZCwgd2U6PC9wPgo8dWw+CiAgPGxpPnJlcXVpcmVkIGNvbXBvc2VyJ3MgYXV0b2xvYWRlciBvbiBsaW5lIDEuPC9saT4KICA8bGk+c3BlY2lmaWVkIHRoYXQgd2Ugd2FudGVkIHRvIHVzZSBHb3V0dGU8L2xpPgogIDxsaT5zcGVjaWZpZWQgYSAkdXJsIHRvIHNjcmFwZTwvbGk+CiAgPGxpPnNwZWNpZmllZCBhIENTUyBzZWxlY3RvciAoJ2EudGl0bGUubWF5LWJsYW5rJykgdG8gdGVsbCBHb3V0dGUgd2hpY2ggPGEgaHJlZj0iaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMTIyNDM3L3doYXQtaXMtZG9tLWVsZW1lbnQiPkRPTSBlbGVtZW50PC9hPiB0byBzY3JhcGU8L2xpPgo8L3VsPgo8aDQ+R2V0dGluZyBUaGUgUmlnaHQgQ1NTIFNlbGVjdG9yPC9oND4KPHA+VGhpcyBpcyB0aGUgZWFzeSBwYXJ0LiBVc2luZyBDaHJvbWUncyBkZXZlbG9wZXIgdG9vbHMgeW91IGNhbiBpbnNwZWN0IGFueSBlbGVtZW50IHRvIHJldmVhbCBpdHMgYXR0cmlidXRlcy48L3A+CjxwPk9uIFJlZGRpdCwgSSByaWdodC1jbGlja2VkIGEgcG9zdCB0aXRsZS48L3A+CjxpbWcgc3JjPSJodHRwczovL3MzLmFtYXpvbmF3cy5jb20vY29udGVudGtpdC1kZXYtZGVwbG95bWVudGJ1Y2tldC0zaGxjYnF4OWY5bmwvc3RhdGljL2NqZXFnZm12eG5ucDkwMTk5YmR0aTRyOG4vcmVkZGl0LXNjcmFwZS0xLnBuZyIgLz4KPHA+QW5kIG5vdGVkIHRoZSBsaW5rIGVsZW1lbnQncyBjbGFzc2VzLCB0aXRsZSwgbWF5LWJsYW5rLCBhbmQgb3V0Ym91bmQuPC9wPgo8aDI+UHJvdmluZyBUbyBZb3Vyc2VsZiBUaGF0IEl0IFdvcmtzPC9oMj4KPHA+UmV0dXJuIHRvIHRlcm1pbmFsIGFuZCB0eXBlIHBocCBpbmRleC5waHAgdG8gcnVuIHRoZSBQSFAgc2NyaXB0LjwvcD4KPHA+SW4gdGVybWluYWwgeW91IHNob3VsZCBzZWUgb3V0cHV0IGxpa2U6PC9wPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1iYXNoIj5hcnJheTxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gbnVtYmVyIj4yNTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+ezwvc3Bhbj4KICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPls8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG51bWJlciI+MDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPl08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj4KICBzdHJpbmc8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG51bWJlciI+MTc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4iZnJvbSBzYWQgdG8gaGFwcHkiPC9zcGFuPgogIDxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Wzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gbnVtYmVyIj4xPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+XTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4+PC9zcGFuPgogIHN0cmluZzxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gbnVtYmVyIj4xODM8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4iVGhlIHByZXNpZGVudCBvZiB0aGUgUGhpbGlwcGluZXMgUm9kcmlnbyBEdXRlcnRlIHNob3VsZCBiZSBpbnZlc3RpZ2F0ZWQgZm9yIG11cmRlciBhZnRlciBib2FzdGluZyBoZSAiPC9zcGFuPnBlcnNvbmFsbHk8c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4iIGtpbGxlZCB0aHJlZSBzdXNwZWN0ZWQgY3JpbWluYWxzLCBhIHRvcCBVbml0ZWQgTmF0aW9ucyBvZmZpY2lhbCBzYWlkLiI8L3NwYW4+PC9jb2RlPjwvcHJlPgo8cD5UaGlzIGlzIGp1c3QgYW4gYXJyYXkgdGhhdCBjb21wcmlzZXMgYWxsIG9mIHRoZSBSZWRkaXQgcG9zdCB0aXRsZXMgb24gdGhlIGZyb250IHBhZ2UuPC9wPgo8aDI+VGhlIFBvd2VyIG9mIEdvdXR0ZTwvaDI+CjxwPlRoZSBwb3dlciBvZiB0aGlzIGFwcHJvYWNoIGlzIHRoYXQgd2UgY2FuIHRhcmdldCB0aGUgZWxlbWVudHMgdG8gc2NyYXBlIHVzaW5nIGEgY3NzIHNlbGVjdG9yLjwvcD4KPHA+VGhpcyBhcHByb2FjaCBpcyByZW1pbmlzY2VudCBvZiBqYXZhc2NyaXB0IGFuZCBKcXVlcnkgd2hlcmUgeW91IGNhbiBtYW5pcHVsYXRlIHRoZSBET00gdXNpbmcgc2ltaWxhciBzeW50YXgsIGUuZy46PC9wPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1qYXZhc2NyaXB0Ij48c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+dmFyPC9zcGFuPiB0aXRsZSA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+JDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHN0cmluZyI+J2EudGl0bGUubWF5LWJsYW5rJzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4uPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+dGV4dDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj48L2NvZGU+PC9wcmU+CjxoMj5UYXJnZXQgQW55IEF0dHJpYnV0ZTwvaDI+CjxwPkluIHRoZSBwcmV2aW91cyBSZWRkaXQgd2Ugc2NyYXBlZCB0aGUgcG9zdCB0aXRsZXMgb24gdGhlIGZyb250IHBhZ2Ugb2YgUmVkZGl0LiBUaGVyZWZvcmUgd2UgdXNlZCA8Y29kZT5fdGV4dDwvY29kZT4gdG8gZ2V0IHRoZSB0ZXh0LiBIZXJlIGFyZSBzb21lIG90aGVyIHRoaW5ncyB3ZSBjYW4gZmV0Y2g6PC9wPgo8dWw+CiAgPGxpPjxzdHJvbmc+aHJlZjwvc3Ryb25nPiAtIHNjcmFwZSBhIHVybDwvbGk+CiAgPGxpPjxzdHJvbmc+c3JjPC9zdHJvbmc+IC0gc2NyYXBlIGEgbGluayB0byBhbiBpbWFnZTwvbGk+CiAgPGxpPjxzdHJvbmc+Y2xhc3M8L3N0cm9uZz4gLSBzY3JhcGUgYSBDU1MgY2xhc3M8L2xpPgogIDxsaT48c3Ryb25nPl90ZXh0PC9zdHJvbmc+IC0gc2NyYXBlIHRleHQ8L2xpPgo8L3VsPgo8cD5Ob3RlOiBTeW1waG9ueSdzIERvbUNyYXdsZXIgc3VwcG9ydHMgc3BlY2lhbCBsaW5rLjwvcD4KPHA+U28gaW5zdGVhZCBvZiBnZXR0aW5nIHRoZSBhdHRyaWJ1dGUgd2l0aCA8Y29kZT5ocmVmPC9jb2RlPiB5b3UgY2FuIGFsc28gd3JpdGU6PC9wPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1waHAiPjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JG91dHB1dDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjcmF3bGVyPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+LTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5maWx0ZXI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPidhLnRpdGxlLm1heS1ibGFuayc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+LTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5saW5rPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiR1cmk8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kbGluazwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPi08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4+PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+Z2V0VXJpPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPjwvY29kZT48L3ByZT4KPGJsb2NrcXVvdGU+VGhlIGdldFVyaSgpIGlzIGVzcGVjaWFsbHkgdXNlZnVsIGFzIGl0IGNsZWFucyB0aGUgaHJlZiB2YWx1ZSBhbmQgdHJhbnNmb3JtcyBpdCBpbnRvIGhvdyBpdCBzaG91bGQgcmVhbGx5IGJlIHByb2Nlc3NlZC4gRm9yIGV4YW1wbGUsIGZvciBhIGxpbmsgd2l0aCBocmVmPSIjZm9vIiwgdGhpcyB3b3VsZCByZXR1cm4gdGhlIGZ1bGwgVVJJIG9mIHRoZSBjdXJyZW50IHBhZ2Ugc3VmZml4ZWQgd2l0aCAjZm9vLiBUaGUgcmV0dXJuIGZyb20gZ2V0VXJpKCkgaXMgYWx3YXlzIGEgZnVsbCBVUkkgdGhhdCB5b3UgY2FuIGFjdCBvbi48L2Jsb2NrcXVvdGU+CjxwPkxpbmsgdG8gc2VjdGlvbiBpbiBTeW1mb255IERPTUNyYXdsZXIgRG9jcy48L3A+CjxoMz5JbiBPbmUgRmVsbCBTd29vcDwvaDM+CjxwPldlIGNhbiBzY3JhcGUgbWFueSBhdHRyaWJ1dGUgdmFsdWVzIGF0IG9uY2UuIEZvciBleGFtcGxlLCB0aGlzIGxpbmUgZmV0Y2hlcyB0aGUgdGV4dCwgY2xhc3MgYW5kIHVybCBvZiBhbiBlbGVtZW50OjwvcD4KPHByZT48Y29kZSBjbGFzcz0ibGFuZ3VhZ2UtcGhwIj48c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRvdXRwdXQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kY3Jhd2xlcjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPi08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4+PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+ZmlsdGVyPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjc3Nfc2VsZWN0b3I8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+LTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5leHRyYWN0PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+YXJyYXk8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPidfdGV4dCc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4sPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc2luZ2xlLXF1b3RlZC1zdHJpbmcgc3RyaW5nIj4nY2xhc3MnPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHNpbmdsZS1xdW90ZWQtc3RyaW5nIHN0cmluZyI+J2hyZWYnPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPjwvY29kZT48L3ByZT4KPHA+Rm9yIHRoZSBSZWRkaXQgZXhhbXBsZSwgdGhlIGFib3ZlIGNvZGUgd291bGQgcmV0dXJuOjwvcD4KPGltZyBzcmM9Imh0dHBzOi8vczMuYW1hem9uYXdzLmNvbS9jb250ZW50a2l0LWRldi1kZXBsb3ltZW50YnVja2V0LTNobGNicXg5ZjlubC9zdGF0aWMvY2plcWdmbXZ4bm5wOTAxOTliZHRpNHI4bi9yZWRkaXQtc2NyYXBlLTMucG5nIiAvPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1iYXNoIj4gIDxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Wzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gbnVtYmVyIj4wPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+XTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4+PC9zcGFuPgogIGFycmF5PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBudW1iZXIiPjM8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPns8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPls8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG51bWJlciI+MDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPl08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj4KICAgIHN0cmluZzxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gbnVtYmVyIj4xNzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBzdHJpbmciPiJmcm9tIHNhZCB0byBoYXBweSI8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPls8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG51bWJlciI+MTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPl08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj4KICAgIHN0cmluZzxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gbnVtYmVyIj4yNDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBzdHJpbmciPiJ0aXRsZSBtYXktYmxhbmsgb3V0Ym91bmQiPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj5bPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBudW1iZXIiPjI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj5dPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+CiAgICBzdHJpbmc8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG51bWJlciI+MzA8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc3RyaW5nIj4iaHR0cDovL2kuaW1ndXIuY29tL1A0NW1hUUMuZ2lmIjwvc3Bhbj4KICA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPn08L3NwYW4+PC9jb2RlPjwvcHJlPgo8aDI+Tm9kZSBUcmF2ZXJzaW5nPC9oMj4KPHA+Q29uc2lkZXIgb25jZSBhZ2FpbiBSZWRkaXQncyBmcm9udCBwYWdlLiBUaGVyZSBhcmUgYSBidW5jaCBvZiBwb3N0cy4gV2hhdCBpZiB3ZSBvbmx5IHdhbnQgdG8gc2VsZWN0IHRoZSBzZWNvbmQgcG9zdCBhbmQgbm90IGFsbCBvZiB0aGVtPyBXZSBjYW4gYWNjZXNzIG5vZGUgYnkgaXRzIHBvc2l0aW9uIG9uIHRoZSBsaXN0OjwvcD4KPHByZT48Y29kZSBjbGFzcz0ibGFuZ3VhZ2UtcGhwIj48c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRvdXRwdXQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kY3Jhd2xlcjwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+LTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5maWx0ZXI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPidhLnRpdGxlLm1heS1ibGFuayc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gY29tbWVudCI+Ly8gQ1NTIHNlbGVjdG9yPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4tPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPmVxPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gbnVtYmVyIj4xPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGNvbW1lbnQiPi8vIG5vZGUgcG9zaXRpb248L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPi08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4+PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+ZXh0cmFjdDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHNpbmdsZS1xdW90ZWQtc3RyaW5nIHN0cmluZyI+J190ZXh0Jzwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPiAgPHNwYW4gY2xhc3M9InRva2VuIGNvbW1lbnQiPi8vIERPTSBhdHRyaWJ1dGUgdG8gZXh0cmFjdDwvc3Bhbj48L2NvZGU+PC9wcmU+CjxoMj5TY3JhcGluZyBNdWx0aXBsZSBQYWdlczwvaDI+CjxwPlNjcmFwaW5nIG11bHRpcGxlIHBhZ2VzIGlzIGVhc3kgd2l0aCBHb3V0dGUuIFdlIGp1c3QgbmVlZCBhIGZvcmVhY2ggbG9vcC48L3A+CjxwPkZpcnN0IHdlIGNyZWF0ZSBhbiBhcnJheSBvZiBsaW5rczo8L3A+CjxwcmU+PGNvZGUgY2xhc3M9Imxhbmd1YWdlLXBocCI+PHNwYW4gY2xhc3M9InRva2VuIGNvbW1lbnQiPi8vIGxpbmtzIHRvIHNjcmFwZTwvc3Bhbj4KPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kdXJsPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBrZXl3b3JkIj5hcnJheTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gc2luZ2xlLXF1b3RlZC1zdHJpbmcgc3RyaW5nIj4naHR0cHM6Ly93d3cucmVkZGl0LmNvbSc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4sPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHNpbmdsZS1xdW90ZWQtc3RyaW5nIHN0cmluZyI+J2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vbmV3Lyc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4sPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHNpbmdsZS1xdW90ZWQtc3RyaW5nIHN0cmluZyI+J2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vcmlzaW5nLyc8L3NwYW4+CjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPjs8L3NwYW4+PC9jb2RlPjwvcHJlPgo8cD5BbmQgaGVyZSdzIHdoYXQgdGhlIGZvcmVhY2ggbG9vcCBtaWdodCBsb29rIGxpa2U6PC9wPgo8cHJlPjxjb2RlIGNsYXNzPSJsYW5ndWFnZS1waHAiPjxzcGFuIGNsYXNzPSJ0b2tlbiBrZXl3b3JkIj5yZXF1aXJlPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gc2luZ2xlLXF1b3RlZC1zdHJpbmcgc3RyaW5nIj4ndmVuZG9yL2F1dG9sb2FkLnBocCc8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+dXNlPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gcGFja2FnZSI+R291dHRlPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj5cPC9zcGFuPkNsaWVudDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPjs8L3NwYW4+CjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JHVybDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+YXJyYXk8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHNpbmdsZS1xdW90ZWQtc3RyaW5nIHN0cmluZyI+J2h0dHBzOi8vd3d3LnJlZGRpdC5jb20nPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPidodHRwczovL3d3dy5yZWRkaXQuY29tL25ldy8nPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPidodHRwczovL3d3dy5yZWRkaXQuY29tL3Jpc2luZy8nPC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPik8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRzZWxlY3Rvcjwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gZG91YmxlLXF1b3RlZC1zdHJpbmcgc3RyaW5nIj4iYS50aXRsZS5tYXktYmxhbmsiPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj4KPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kYXR0cmlidXRlPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj08L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBkb3VibGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPiJfdGV4dCI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj47PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+Zm9yZWFjaDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kdXJsPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4ga2V5d29yZCI+YXM8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JGtleTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kdmFsdWU8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPns8L3NwYW4+CiAgICA8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjbGllbnQ8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+PTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGtleXdvcmQiPm5ldzwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIGNsYXNzLW5hbWUiPkNsaWVudDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPig8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBjb21tZW50Ij4vLyBvbiB0aGUgZmlyc3QgaXRlcmF0aW9uLCAkdmFsdWUgPSAnaHR0cHM6Ly93d3cucmVkZGl0LmNvbScsIG9uIHRoZSBzZWNvbmQgJHZhbHVlID0gJ2h0dHBzOi8vd3d3LnJlZGRpdC5jb20vbmV3LycsIGFuZCBzbyBmb3J0aC4gPC9zcGFuPgogICAgPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kY3Jhd2xlcjwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjbGllbnQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4tPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+Pjwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPnJlcXVlc3Q8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBzaW5nbGUtcXVvdGVkLXN0cmluZyBzdHJpbmciPidHRVQnPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+LDwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4kdmFsdWU8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj4KICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JG91dHB1dDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gcHVuY3R1YXRpb24iPls8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHZhcmlhYmxlIj4ka2V5PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+XTwvc3Bhbj4gPHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj49PC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRjcmF3bGVyPC9zcGFuPgogICAgICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+LTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5maWx0ZXI8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiB2YXJpYWJsZSI+JHNlbGVjdG9yPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KTwvc3Bhbj4KICAgICAgICA8c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPi08L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIG9wZXJhdG9yIj4+PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBmdW5jdGlvbiI+ZXE8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4oPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBudW1iZXIiPjE8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPiA8c3BhbiBjbGFzcz0idG9rZW4gY29tbWVudCI+Ly8gc2NyYXBlIHRoZSBzZWNvbmQgcG9zdCBvbmx5PC9zcGFuPgogICAgICAgIDxzcGFuIGNsYXNzPSJ0b2tlbiBvcGVyYXRvciI+LTwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gb3BlcmF0b3IiPj48L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIGZ1bmN0aW9uIj5leHRyYWN0PC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRhdHRyaWJ1dGU8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj4KPHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj59PC9zcGFuPgo8c3BhbiBjbGFzcz0idG9rZW4gZnVuY3Rpb24iPnZhcl9kdW1wPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+KDwvc3Bhbj48c3BhbiBjbGFzcz0idG9rZW4gdmFyaWFibGUiPiRvdXRwdXQ8L3NwYW4+PHNwYW4gY2xhc3M9InRva2VuIHB1bmN0dWF0aW9uIj4pPC9zcGFuPjxzcGFuIGNsYXNzPSJ0b2tlbiBwdW5jdHVhdGlvbiI+Ozwvc3Bhbj48L2NvZGU+PC9wcmU+CjxwPkNsb25lIHRoaXMgcmVwb3NpdG9yeSBmb3IgYSBxdWljayBzdGFydDogaHR0cHM6Ly9naXRodWIuY29tL3Vuc2hpZnQvZ291dHRlLXBocC1zY3JhcGVyLWJvaWxlcnBsYXRlL2Jsb2IvbWFzdGVyL2luZGV4LnBocCNMMjU8L3A+CjxwPlRoYXQncyBpdCEgTm93IGdvIGZvcnRoIGFuZCBzY3JhcGUgcmVzcG9uc2libHkuPC9wPg==","excerpt":"I needed to scrape Reddit posts for a project. After having fun with some tools I decided to docume","image":null,"posts_tags":[],"date":"10/07/2017","html":"<p>I needed to scrape Reddit posts for a project. After having fun with some tools I decided to document the process. However I my process is generalizable to scraping anything.</p>\n<p>First, what is a web scraper? You could manually copy and paste data from websites into a spreadsheet, but that would take far too long if you are working on a big project.</p>\n<p>Scraping lets you programmatically copy data at a high throughput.</p>\n<h2>Scraping Libraries</h2>\n<p>For this project, I chose PHP because it has some extra syntactic sugar.</p>\n<p>The best (php) scraping library is Goutte.</p>\n<h2>Installing Goutte</h2>\n<p>First, you'll need to install Compose, which is a package management tool for PHP. In terminal type:</p>\n<pre><code class=\"language-php\"><span class=\"token shell-comment comment\"># Install Composer</span>\ncurl <span class=\"token operator\">-</span>sS https<span class=\"token punctuation\">:</span><span class=\"token comment\">//getcomposer.org/installer | php</span></code></pre>\n<p>Now add Goutte as a dependency to your project.</p>\n<pre><code class=\"language-php\">composer <span class=\"token keyword\">require</span> fabpot<span class=\"token operator\">/</span>goutte</code></pre>\n<p>But Goutte requires Guzzle, so you'll need to install that too.</p>\n<h2>Installing Guzzle</h2>\n<p>Guzzle is a PHP HTTP client that makes it easy to send HTTP requests and trivial to integrate with web services.</p>\n<pre><code class=\"language-bash\">php composer.phar require guzzlehttp/guzzle</code></pre>\n<p>Now if you open composer.json it should look something like:</p>\n<pre><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_project\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"require\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"fabpot/goutte\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^3.2\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"guzzlehttp/guzzle\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.2\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>After installing Goutte and Guzzle, you need to include composer's autoloader.</p>\n<p>So create a file index.php and at the top include:</p>\n<pre><code class=\"language-php\"><span class=\"token keyword\">require</span> <span class=\"token single-quoted-string string\">'vendor/autoload.php'</span><span class=\"token punctuation\">;</span></code></pre>\n<h2>Scraping Your First Page</h2>\n<h3>Example: Scraping Reddit's Front Page</h3>\n<p>To scrape stuff with Guzzle, you only need to write a few lines of code. For example:</p>\n<pre><code class=\"language-php\"><span class=\"token keyword\">require</span> <span class=\"token single-quoted-string string\">'vendor/autoload.php'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Goutte<span class=\"token punctuation\">\\</span>Client</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$url</span> <span class=\"token operator\">=</span> <span class=\"token double-quoted-string string\">\"http://www.reddit.com\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$css_selector</span> <span class=\"token operator\">=</span> <span class=\"token double-quoted-string string\">\"a.title.may-blank\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$thing_to_scrape</span> <span class=\"token operator\">=</span> <span class=\"token double-quoted-string string\">\"_text\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$client</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Client</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$crawler</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$client</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$url</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$crawler</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$css_selector</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$thing_to_scrape</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>With this PHP snipped, we:</p>\n<ul>\n  <li>required composer's autoloader on line 1.</li>\n  <li>specified that we wanted to use Goutte</li>\n  <li>specified a $url to scrape</li>\n  <li>specified a CSS selector ('a.title.may-blank') to tell Goutte which <a href=\"http://stackoverflow.com/questions/1122437/what-is-dom-element\">DOM element</a> to scrape</li>\n</ul>\n<h4>Getting The Right CSS Selector</h4>\n<p>This is the easy part. Using Chrome's developer tools you can inspect any element to reveal its attributes.</p>\n<p>On Reddit, I right-clicked a post title.</p>\n<img src=\"https://s3.amazonaws.com/contentkit-dev-deploymentbucket-3hlcbqx9f9nl/static/cjeqgfmvxnnp90199bdti4r8n/reddit-scrape-1.png\" />\n<p>And noted the link element's classes, title, may-blank, and outbound.</p>\n<h2>Proving To Yourself That It Works</h2>\n<p>Return to terminal and type php index.php to run the PHP script.</p>\n<p>In terminal you should see output like:</p>\n<pre><code class=\"language-bash\">array<span class=\"token punctuation\">(</span><span class=\"token number\">25</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">></span>\n  string<span class=\"token punctuation\">(</span><span class=\"token number\">17</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"from sad to happy\"</span>\n  <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">></span>\n  string<span class=\"token punctuation\">(</span><span class=\"token number\">183</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"The president of the Philippines Rodrigo Duterte should be investigated for murder after boasting he \"</span>personally<span class=\"token string\">\" killed three suspected criminals, a top United Nations official said.\"</span></code></pre>\n<p>This is just an array that comprises all of the Reddit post titles on the front page.</p>\n<h2>The Power of Goutte</h2>\n<p>The power of this approach is that we can target the elements to scrape using a css selector.</p>\n<p>This approach is reminiscent of javascript and Jquery where you can manipulate the DOM using similar syntax, e.g.:</p>\n<pre><code class=\"language-javascript\"><span class=\"token keyword\">var</span> title <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a.title.may-blank'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h2>Target Any Attribute</h2>\n<p>In the previous Reddit we scraped the post titles on the front page of Reddit. Therefore we used <code>_text</code> to get the text. Here are some other things we can fetch:</p>\n<ul>\n  <li><strong>href</strong> - scrape a url</li>\n  <li><strong>src</strong> - scrape a link to an image</li>\n  <li><strong>class</strong> - scrape a CSS class</li>\n  <li><strong>_text</strong> - scrape text</li>\n</ul>\n<p>Note: Symphony's DomCrawler supports special link.</p>\n<p>So instead of getting the attribute with <code>href</code> you can also write:</p>\n<pre><code class=\"language-php\"><span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$crawler</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'a.title.may-blank'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">link</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$uri</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$link</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<blockquote>The getUri() is especially useful as it cleans the href value and transforms it into how it should really be processed. For example, for a link with href=\"#foo\", this would return the full URI of the current page suffixed with #foo. The return from getUri() is always a full URI that you can act on.</blockquote>\n<p>Link to section in Symfony DOMCrawler Docs.</p>\n<h3>In One Fell Swoop</h3>\n<p>We can scrape many attribute values at once. For example, this line fetches the text, class and url of an element:</p>\n<pre><code class=\"language-php\"><span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$crawler</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$css_selector</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'_text'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'class'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'href'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>For the Reddit example, the above code would return:</p>\n<img src=\"https://s3.amazonaws.com/contentkit-dev-deploymentbucket-3hlcbqx9f9nl/static/cjeqgfmvxnnp90199bdti4r8n/reddit-scrape-3.png\" />\n<pre><code class=\"language-bash\">  <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">></span>\n  array<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">></span>\n    string<span class=\"token punctuation\">(</span><span class=\"token number\">17</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"from sad to happy\"</span>\n    <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">></span>\n    string<span class=\"token punctuation\">(</span><span class=\"token number\">24</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"title may-blank outbound\"</span>\n    <span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token operator\">=</span><span class=\"token operator\">></span>\n    string<span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"http://i.imgur.com/P45maQC.gif\"</span>\n  <span class=\"token punctuation\">}</span></code></pre>\n<h2>Node Traversing</h2>\n<p>Consider once again Reddit's front page. There are a bunch of posts. What if we only want to select the second post and not all of them? We can access node by its position on the list:</p>\n<pre><code class=\"language-php\"><span class=\"token variable\">$output</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$crawler</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'a.title.may-blank'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// CSS selector</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// node position</span>\n    <span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'_text'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// DOM attribute to extract</span></code></pre>\n<h2>Scraping Multiple Pages</h2>\n<p>Scraping multiple pages is easy with Goutte. We just need a foreach loop.</p>\n<p>First we create an array of links:</p>\n<pre><code class=\"language-php\"><span class=\"token comment\">// links to scrape</span>\n<span class=\"token variable\">$url</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n    <span class=\"token single-quoted-string string\">'https://www.reddit.com'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'https://www.reddit.com/new/'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'https://www.reddit.com/rising/'</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>And here's what the foreach loop might look like:</p>\n<pre><code class=\"language-php\"><span class=\"token keyword\">require</span> <span class=\"token single-quoted-string string\">'vendor/autoload.php'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Goutte<span class=\"token punctuation\">\\</span>Client</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$url</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span>\n    <span class=\"token single-quoted-string string\">'https://www.reddit.com'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'https://www.reddit.com/new/'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'https://www.reddit.com/rising/'</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$selector</span> <span class=\"token operator\">=</span> <span class=\"token double-quoted-string string\">\"a.title.may-blank\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$attribute</span> <span class=\"token operator\">=</span> <span class=\"token double-quoted-string string\">\"_text\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">foreach</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$url</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$key</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$client</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Client</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// on the first iteration, $value = 'https://www.reddit.com', on the second $value = 'https://www.reddit.com/new/', and so forth. </span>\n    <span class=\"token variable\">$crawler</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$client</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">request</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$output</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$key</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$crawler</span>\n        <span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$selector</span><span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// scrape the second post only</span>\n        <span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">extract</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$attribute</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$output</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Clone this repository for a quick start: https://github.com/unshift/goutte-php-scraper-boilerplate/blob/master/index.php#L25</p>\n<p>That's it! Now go forth and scrape responsibly.</p>"}}}}